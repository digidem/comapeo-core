[API](../README.md) / \<internal\>

# Module: \<internal\>

## Table of contents

### References

- [BlobId](internal_.md#blobid)
- [HyperdriveEntry](internal_.md#hyperdriveentry)
- [MapeoDocTables](internal_.md#mapeodoctables)
- [Namespace](internal_.md#namespace)
- [NamespaceSyncState](internal_.md#namespacesyncstate)
- [SyncState](internal_.md#syncstate)

### Namespaces

- ["/home/szgy/src/dd/mapeo-core-next/src/core-manager/index"](internal_.__home_szgy_src_dd_mapeo_core_next_src_core_manager_index_.md)
- ["/home/szgy/src/dd/mapeo-core-next/src/datastore/index"](internal_.__home_szgy_src_dd_mapeo_core_next_src_datastore_index_.md)
- ["/home/szgy/src/dd/mapeo-core-next/src/local-peers"](internal_.__home_szgy_src_dd_mapeo_core_next_src_local_peers_.md)
- ["/home/szgy/src/dd/mapeo-core-next/src/roles"](internal_.__home_szgy_src_dd_mapeo_core_next_src_roles_.md)
- ["/home/szgy/src/dd/mapeo-core-next/src/schema/client"](internal_.__home_szgy_src_dd_mapeo_core_next_src_schema_client_.md)
- ["/home/szgy/src/dd/mapeo-core-next/src/schema/project"](internal_.__home_szgy_src_dd_mapeo_core_next_src_schema_project_.md)
- ["/home/szgy/src/dd/mapeo-core-next/src/sync/core-sync-state"](internal_.__home_szgy_src_dd_mapeo_core_next_src_sync_core_sync_state_.md)
- ["/home/szgy/src/dd/mapeo-core-next/src/sync/namespace-sync-state"](internal_.__home_szgy_src_dd_mapeo_core_next_src_sync_namespace_sync_state_.md)
- ["/home/szgy/src/dd/mapeo-core-next/src/utils"](internal_.__home_szgy_src_dd_mapeo_core_next_src_utils_.md)
- ["hyperdrive"](internal_._hyperdrive_.md)
- [Hyperblobs](internal_.Hyperblobs.md)
- [Hyperdrive](internal_.Hyperdrive.md)

### Classes

- [BigSparseArray](../classes/internal_.BigSparseArray.md)
- [BlobApi](../classes/internal_.BlobApi.md)
- [BlobReadStream](../classes/internal_.BlobReadStream.md)
- [BlobStore](../classes/internal_.BlobStore.md)
- [BlobWriteStream](../classes/internal_.BlobWriteStream.md)
- [CoreIndex](../classes/internal_.CoreIndex.md)
- [CoreManager](../classes/internal_.CoreManager.md)
- [CoreOwnership](../classes/internal_.CoreOwnership.md)
- [CoreSyncState](../classes/internal_.CoreSyncState.md)
- [Corestore](../classes/internal_.Corestore.md)
- [DataStore](../classes/internal_.DataStore.md)
- [DataType](../classes/internal_.DataType.md)
- [DenseIndex](../classes/internal_.DenseIndex.md)
- [DriveLiveDownload](../classes/internal_.DriveLiveDownload.md)
- [Hyperblobs](../classes/internal_.Hyperblobs-1.md)
- [Hyperdrive](../classes/internal_.Hyperdrive-1.md)
- [IconApi](../classes/internal_.IconApi.md)
- [Index](../classes/internal_.Index.md)
- [IndexWriter](../classes/internal_.IndexWriter.md)
- [InviteApi](../classes/internal_.InviteApi.md)
- [LiveDownload](../classes/internal_.LiveDownload.md)
- [LocalDiscovery](../classes/internal_.LocalDiscovery.md)
- [LocalPeers](../classes/internal_.LocalPeers.md)
- [Logger](../classes/internal_.Logger.md)
- [MapeoProject](../classes/internal_.MapeoProject.md)
- [MemberApi](../classes/internal_.MemberApi.md)
- [Peer](../classes/internal_.Peer.md)
- [PeerSyncController](../classes/internal_.PeerSyncController.md)
- [PendingInvites](../classes/internal_.PendingInvites.md)
- [Protomux](../classes/internal_.Protomux.md)
- [RemoteBitfieldPage](../classes/internal_.RemoteBitfieldPage.md)
- [RemoteBitfieldSegment](../classes/internal_.RemoteBitfieldSegment.md)
- [Roles](../classes/internal_.Roles.md)
- [SparseIndex](../classes/internal_.SparseIndex.md)
- [SyncApi](../classes/internal_.SyncApi.md)
- [SyncState](../classes/internal_.SyncState.md)
- [TrackedKeyRequests](../classes/internal_.TrackedKeyRequests.md)
- [default](../classes/internal_.default.md)
- [default](../classes/internal_.default-1.md)
- [default](../classes/internal_.default-2.md)

### Interfaces

- [BitmapOpts](../interfaces/internal_.BitmapOpts.md)
- [BlobDownloadState](../interfaces/internal_.BlobDownloadState.md)
- [Channel](../interfaces/internal_.Channel.md)
- [CoreState](../interfaces/internal_.CoreState.md)
- [CorestoreEvents](../interfaces/internal_.CorestoreEvents.md)
- [DataTypeEvents](../interfaces/internal_.DataTypeEvents.md)
- [DocCapability](../interfaces/internal_.DocCapability.md)
- [Encoding](../interfaces/internal_.Encoding.md)
- [EncodingState](../interfaces/internal_.EncodingState.md)
- [HaveMsg](../interfaces/internal_.HaveMsg.md)
- [HyperdriveEvents](../interfaces/internal_.HyperdriveEvents.md)
- [HyperdriveGetOpts](../interfaces/internal_.HyperdriveGetOpts.md)
- [HyperdriveOptions](../interfaces/internal_.HyperdriveOptions.md)
- [MapsPluginOpts](../interfaces/internal_.MapsPluginOpts.md)
- [MemberInfo](../interfaces/internal_.MemberInfo.md)
- [Message](../interfaces/internal_.Message.md)
- [OfflineFallbackMapPluginOpts](../interfaces/internal_.OfflineFallbackMapPluginOpts.md)
- [PeerInfoBase](../interfaces/internal_.PeerInfoBase.md)
- [PendingInvite](../interfaces/internal_.PendingInvite.md)
- [PreEncodingState](../interfaces/internal_.PreEncodingState.md)
- [Role](../interfaces/internal_.Role.md)
- [StartOpts](../interfaces/internal_.StartOpts.md)
- [State](../interfaces/internal_.State.md)
- [StaticMapsPluginOpts](../interfaces/internal_.StaticMapsPluginOpts.md)
- [SvgOpts](../interfaces/internal_.SvgOpts.md)
- [SyncTypeState](../interfaces/internal_.SyncTypeState.md)

### Type Aliases

- [ArrayAtLeastOne](internal_.md#arrayatleastone)
- [BitField](internal_.md#bitfield)
- [BlobDownloadStateError](internal_.md#blobdownloadstateerror)
- [BlobFilter](internal_.md#blobfilter)
- [BlobId](internal_.md#blobid-1)
- [BlobIdBase](internal_.md#blobidbase)
- [BlobType](internal_.md#blobtype)
- [BlobVariant](internal_.md#blobvariant)
- [Chunk](internal_.md#chunk)
- [Core](internal_.md#core)
- [CoreOwnershipWithSignatures](internal_.md#coreownershipwithsignatures)
- [CoreOwnershipWithSignaturesValue](internal_.md#coreownershipwithsignaturesvalue)
- [CoreRecord](internal_.md#corerecord)
- [CoreStorage](internal_.md#corestorage)
- [DeviceInfoParam](internal_.md#deviceinfoparam)
- [EditableProjectSettings](internal_.md#editableprojectsettings)
- [ElementOf](internal_.md#elementof)
- [GetMapeoDocTables](internal_.md#getmapeodoctables)
- [IndexedDocIds](internal_.md#indexeddocids)
- [InternalDriveEmitter](internal_.md#internaldriveemitter)
- [InviteInternal](internal_.md#inviteinternal)
- [KeyPair](internal_.md#keypair)
- [Keypair](internal_.md#keypair-1)
- [MapBuffers](internal_.md#mapbuffers)
- [MapeoDocMap](internal_.md#mapeodocmap)
- [MapeoDocTableName](internal_.md#mapeodoctablename)
- [MapeoDocTables](internal_.md#mapeodoctables-1)
- [MapeoValueMap](internal_.md#mapeovaluemap)
- [Namespace](internal_.md#namespace-1)
- [NamespaceSchemas](internal_.md#namespaceschemas)
- [OpenedNoiseStream](internal_.md#openednoisestream)
- [OpenedNoiseStream](internal_.md#openednoisestream-1)
- [PeerCoreState](internal_.md#peercorestate)
- [PeerInfoConnected](internal_.md#peerinfoconnected)
- [PeerInfoDisconnected](internal_.md#peerinfodisconnected)
- [Primitive](internal_.md#primitive)
- [ProtocolStream](internal_.md#protocolstream)
- [PublicKey](internal_.md#publickey)
- [PublicPeerInfo](internal_.md#publicpeerinfo)
- [Range](internal_.md#range)
- [RemoveNull](internal_.md#removenull)
- [ReplicationStream](internal_.md#replicationstream)
- [RoleId](internal_.md#roleid)
- [SecretKey](internal_.md#secretkey)
- [State](internal_.md#state)
- [SupportedBlobVariants](internal_.md#supportedblobvariants)
- [SyncCapability](internal_.md#synccapability)
- [SyncType](internal_.md#synctype)

### Variables

- [NAMESPACES](internal_.md#namespaces)
- [NAMESPACE\_SCHEMAS](internal_.md#namespace_schemas)
- [ROLE\_IDS](internal_.md#role_ids)
- [ROLE\_IDS\_ASSIGNABLE\_TO\_ANYONE](internal_.md#role_ids_assignable_to_anyone)
- [ROLE\_IDS\_ASSIGNABLE\_TO\_OTHERS](internal_.md#role_ids_assignable_to_others)
- [ROLE\_IDS\_FOR\_NEW\_INVITE](internal_.md#role_ids_for_new_invite)
- [SUPPORTED\_BLOB\_VARIANTS](internal_.md#supported_blob_variants)

## References

### BlobId

Re-exports [BlobId](../interfaces/internal_.Hyperblobs.BlobId.md)

___

### HyperdriveEntry

Re-exports [HyperdriveEntry](../interfaces/internal_.Hyperdrive.HyperdriveEntry.md)

___

### MapeoDocTables

Re-exports [MapeoDocTables](internal_.md#mapeodoctables-1)

___

### Namespace

Re-exports [Namespace](internal_.md#namespace-1)

___

### NamespaceSyncState

Re-exports [NamespaceSyncState](../classes/internal_.__home_szgy_src_dd_mapeo_core_next_src_sync_namespace_sync_state_.NamespaceSyncState.md)

___

### SyncState

Re-exports [SyncState](internal_.__home_szgy_src_dd_mapeo_core_next_src_sync_namespace_sync_state_.md#syncstate)

## Type Aliases

### ArrayAtLeastOne

Ƭ **ArrayAtLeastOne**\<`T`\>: [`T`, ...T[]]

#### Type parameters

| Name |
| :------ |
| `T` |

___

### BitField

Ƭ **BitField**: `TypedArray`

___

### BlobDownloadStateError

Ƭ **BlobDownloadStateError**\<\>: `Omit`\<[`BlobDownloadState`](../interfaces/internal_.BlobDownloadState.md), ``"error"`` \| ``"status"``\> & \{ `error`: `Error` ; `status`: ``"error"``  }

___

### BlobFilter

Ƭ **BlobFilter**: `RequireAtLeastOne`\<\{ [KeyType in BlobType]: ArrayAtLeastOne\<BlobVariant\<KeyType\>\> }\>

___

### BlobId

Ƭ **BlobId**: `Simplify`\<`ValueOf`\<\{ [KeyType in BlobType]: BlobIdBase\<KeyType\> }\>\>

___

### BlobIdBase

Ƭ **BlobIdBase**\<`T`\>: `Object`

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends [`BlobType`](internal_.md#blobtype) |

#### Type declaration

| Name | Type | Description |
| :------ | :------ | :------ |
| `driveId` | `string` | discovery key as hex string of hyperdrive where blob is stored |
| `name` | `string` | unique identifier for blob (e.g. hash of content) |
| `type` | `T` | Type of blob |
| `variant` | [`BlobVariant`](internal_.md#blobvariant)\<`T`\> | Blob variant (some blob types have smaller previews and thumbnails available) |

___

### BlobType

Ƭ **BlobType**: keyof [`SupportedBlobVariants`](internal_.md#supportedblobvariants)

___

### BlobVariant

Ƭ **BlobVariant**\<`TBlobType`\>: `TupleToUnion`\<[`SupportedBlobVariants`](internal_.md#supportedblobvariants)[`TBlobType`]\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `TBlobType` | extends [`BlobType`](internal_.md#blobtype) |

___

### Chunk

Ƭ **Chunk**: `Object`

#### Type declaration

| Name | Type |
| :------ | :------ |
| `field` | [`BitField`](internal_.md#bitfield) |
| `offset` | `number` |

___

### Core

Ƭ **Core**\<\>: `__module`

___

### CoreOwnershipWithSignatures

Ƭ **CoreOwnershipWithSignatures**: `Extract`\<`ReturnType`\<typeof `decode`\>, \{ `schemaName`: ``"coreOwnership"``  }\>

___

### CoreOwnershipWithSignaturesValue

Ƭ **CoreOwnershipWithSignaturesValue**: `Omit`\<[`CoreOwnershipWithSignatures`](internal_.md#coreownershipwithsignatures), `Exclude`\<keyof `MapeoCommon`, ``"schemaName"``\>\>

___

### CoreRecord

Ƭ **CoreRecord**\<\>: `Object`

#### Type declaration

| Name | Type |
| :------ | :------ |
| `core` | [`Core`](internal_.md#core) |
| `key` | `Buffer` |
| `namespace` | [`Namespace`](internal_.md#namespace-1) |

___

### CoreStorage

Ƭ **CoreStorage**: (`name`: `string`) => `RandomAccessStorage`

#### Type declaration

▸ (`name`): `RandomAccessStorage`

##### Parameters

| Name | Type |
| :------ | :------ |
| `name` | `string` |

##### Returns

`RandomAccessStorage`

___

### DeviceInfoParam

Ƭ **DeviceInfoParam**\<\>: `Omit`\<`DeviceInfoValue`, ``"schemaName"``\>

___

### EditableProjectSettings

Ƭ **EditableProjectSettings**\<\>: `Omit`\<`ProjectSettingsValue`, ``"schemaName"``\>

___

### ElementOf

Ƭ **ElementOf**\<`T`\>: `T` extends `Iterable`\<infer U\> ? `U` : `never`

#### Type parameters

| Name |
| :------ |
| `T` |

___

### GetMapeoDocTables

Ƭ **GetMapeoDocTables**\<`T`\>: `T`[keyof `T` & [`MapeoDocTableName`](internal_.md#mapeodoctablename)]

#### Type parameters

| Name |
| :------ |
| `T` |

___

### IndexedDocIds

Ƭ **IndexedDocIds**\<\>: \{ [K in MapeoDoc["schemaName"]]?: string[] }

___

### InternalDriveEmitter

Ƭ **InternalDriveEmitter**\<\>: `TypedEmitter`\<\{ `add-drive`: (`drive`: [`"hyperdrive"`](internal_._hyperdrive_.md)) => `void`  }\>

___

### InviteInternal

Ƭ **InviteInternal**\<\>: `InviteRpcMessage` & \{ `receivedAt`: `number`  }

___

### KeyPair

Ƭ **KeyPair**: `Object`

#### Type declaration

| Name | Type |
| :------ | :------ |
| `publicKey` | [`PublicKey`](internal_.md#publickey) |
| `secretKey` | [`SecretKey`](internal_.md#secretkey) |

___

### Keypair

Ƭ **Keypair**\<\>: `Object`

#### Type declaration

| Name | Type |
| :------ | :------ |
| `publicKey` | `Buffer` |
| `secretKey` | `Buffer` |

___

### MapBuffers

Ƭ **MapBuffers**\<`T`\>: \{ [K in keyof T]: T[K] extends Buffer ? string : T[K] }

Replace an object's `Buffer` values with `string`s. Useful for serialization.

#### Type parameters

| Name |
| :------ |
| `T` |

___

### MapeoDocMap

Ƭ **MapeoDocMap**: \{ [K in MapeoDoc["schemaName"]]: Extract\<MapeoDoc, Object\> }

___

### MapeoDocTableName

Ƭ **MapeoDocTableName**: \`$\{MapeoDoc["schemaName"]}Table\`

___

### MapeoDocTables

Ƭ **MapeoDocTables**: [`GetMapeoDocTables`](internal_.md#getmapeodoctables)\<[`"/home/szgy/src/dd/mapeo-core-next/src/schema/project"`](internal_.__home_szgy_src_dd_mapeo_core_next_src_schema_project_.md)\> \| [`GetMapeoDocTables`](internal_.md#getmapeodoctables)\<[`"/home/szgy/src/dd/mapeo-core-next/src/schema/client"`](internal_.__home_szgy_src_dd_mapeo_core_next_src_schema_client_.md)\>

Union of Drizzle schema tables that correspond to MapeoDoc types (e.g. excluding backlink tables and other utility tables)

___

### MapeoValueMap

Ƭ **MapeoValueMap**: \{ [K in MapeoValue["schemaName"]]: Extract\<MapeoValue, Object\> }

___

### Namespace

Ƭ **Namespace**\<\>: typeof [`NAMESPACES`](internal_.md#namespaces)[`number`]

___

### NamespaceSchemas

Ƭ **NamespaceSchemas**\<\>: typeof [`NAMESPACE_SCHEMAS`](internal_.md#namespace_schemas)

___

### OpenedNoiseStream

Ƭ **OpenedNoiseStream**\<`T`\>: `__module` & \{ `handshake`: `Buffer` ; `publicKey`: `Buffer` ; `remotePublicKey`: `Buffer`  }

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `Duplex` \| `Duplex` = `Duplex` \| `Duplex` |

___

### OpenedNoiseStream

Ƭ **OpenedNoiseStream**\<\>: [`"/home/szgy/src/dd/mapeo-core-next/src/utils"`](internal_.__home_szgy_src_dd_mapeo_core_next_src_utils_.md)

___

### PeerCoreState

Ƭ **PeerCoreState**\<\>: [`CoreState`](../interfaces/internal_.CoreState.md) & \{ `status`: ``"disconnected"`` \| ``"connecting"`` \| ``"connected"``  }

___

### PeerInfoConnected

Ƭ **PeerInfoConnected**\<\>: [`PeerInfoBase`](../interfaces/internal_.PeerInfoBase.md) & \{ `connectedAt`: `number` ; `protomux`: [`Protomux`](../classes/internal_.Protomux.md)\<`__module`\> ; `status`: ``"connected"``  }

___

### PeerInfoDisconnected

Ƭ **PeerInfoDisconnected**\<\>: [`PeerInfoBase`](../interfaces/internal_.PeerInfoBase.md) & \{ `disconnectedAt`: `number` ; `status`: ``"disconnected"``  }

___

### Primitive

Ƭ **Primitive**\<\>: `string` \| `number` \| `bigint` \| `boolean` \| `undefined` \| `symbol` \| ``null``

___

### ProtocolStream

Ƭ **ProtocolStream**: `Omit`\<`NoiseStream`, ``"userData"``\> & \{ `userData`: [`Protomux`](../classes/internal_.Protomux.md)  }

___

### PublicKey

Ƭ **PublicKey**: `Buffer`

32 byte buffer

___

### PublicPeerInfo

Ƭ **PublicPeerInfo**\<\>: `Omit`\<[`"/home/szgy/src/dd/mapeo-core-next/src/local-peers"`](internal_.__home_szgy_src_dd_mapeo_core_next_src_local_peers_.md), ``"protomux"``\>

___

### Range

Ƭ **Range**: \{ `end`: `number` ; `linear`: `boolean` ; `start`: `number`  } \| \{ `blocks`: `number`[]  }

___

### RemoveNull

Ƭ **RemoveNull**\<`T`\>: \{ [K in keyof T]: Exclude\<T[K], null\> }

#### Type parameters

| Name |
| :------ |
| `T` |

___

### ReplicationStream

Ƭ **ReplicationStream**: `Duplex` & \{ `noiseStream`: [`ProtocolStream`](internal_.md#protocolstream)  }

___

### RoleId

Ƭ **RoleId**\<\>: [`ElementOf`](internal_.md#elementof)\<typeof [`ROLE_IDS`](internal_.md#role_ids)\>

___

### SecretKey

Ƭ **SecretKey**: `Buffer`

32 byte buffer

___

### State

Ƭ **State**\<\>: `Record`\<[`"/home/szgy/src/dd/mapeo-core-next/src/core-manager/index"`](internal_.__home_szgy_src_dd_mapeo_core_next_src_core_manager_index_.md), [`"/home/szgy/src/dd/mapeo-core-next/src/sync/namespace-sync-state"`](internal_.__home_szgy_src_dd_mapeo_core_next_src_sync_namespace_sync_state_.md)\>

___

### SupportedBlobVariants

Ƭ **SupportedBlobVariants**: typeof [`SUPPORTED_BLOB_VARIANTS`](internal_.md#supported_blob_variants)

___

### SyncCapability

Ƭ **SyncCapability**\<\>: [`"/home/szgy/src/dd/mapeo-core-next/src/roles"`](internal_.__home_szgy_src_dd_mapeo_core_next_src_roles_.md)[``"sync"``][[`Namespace`](internal_.md#namespace)] \| ``"unknown"``

___

### SyncType

Ƭ **SyncType**\<\>: ``"initial"`` \| ``"full"``

## Variables

### NAMESPACES

• `Const` **NAMESPACES**: readonly [``"auth"``, ``"config"``, ``"data"``, ``"blobIndex"``, ``"blob"``]

___

### NAMESPACE\_SCHEMAS

• `Const` **NAMESPACE\_SCHEMAS**: `Object`

**`Template`**

**`Template`**

#### Type declaration

| Name | Type |
| :------ | :------ |
| `auth` | readonly [``"coreOwnership"``, ``"role"``] |
| `config` | readonly [``"translation"``, ``"preset"``, ``"field"``, ``"projectSettings"``, ``"deviceInfo"``, ``"icon"``] |
| `data` | readonly [``"observation"``, ``"track"``] |

___

### ROLE\_IDS

• `Const` **ROLE\_IDS**: `Set`\<``"a12a6702b93bd7ff"`` \| ``"f7c150f5a3a9a855"`` \| ``"012fd2d431c0bf60"`` \| ``"9e6d29263cba36c9"`` \| ``"8ced989b1904606b"`` \| ``"08e4251e36f6e7ed"``\>

___

### ROLE\_IDS\_ASSIGNABLE\_TO\_ANYONE

• `Const` **ROLE\_IDS\_ASSIGNABLE\_TO\_ANYONE**: `Set`\<``"f7c150f5a3a9a855"`` \| ``"012fd2d431c0bf60"`` \| ``"9e6d29263cba36c9"`` \| ``"8ced989b1904606b"``\>

___

### ROLE\_IDS\_ASSIGNABLE\_TO\_OTHERS

• `Const` **ROLE\_IDS\_ASSIGNABLE\_TO\_OTHERS**: `Set`\<``"f7c150f5a3a9a855"`` \| ``"012fd2d431c0bf60"`` \| ``"9e6d29263cba36c9"``\>

___

### ROLE\_IDS\_FOR\_NEW\_INVITE

• `Const` **ROLE\_IDS\_FOR\_NEW\_INVITE**: `Set`\<``"f7c150f5a3a9a855"`` \| ``"012fd2d431c0bf60"`` \| ``"9e6d29263cba36c9"``\>

___

### SUPPORTED\_BLOB\_VARIANTS

• `Const` **SUPPORTED\_BLOB\_VARIANTS**: `Object`

#### Type declaration

| Name | Type |
| :------ | :------ |
| `audio` | readonly [``"original"``] |
| `photo` | readonly [``"original"``, ``"preview"``, ``"thumbnail"``] |
| `video` | readonly [``"original"``] |
